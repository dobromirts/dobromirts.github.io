"use strict";(self.webpackChunkapp_lob=self.webpackChunkapp_lob||[]).push([[460],{4460:($,u,g)=>{g.r(u),g.d(u,{GridFinjsModule:()=>E});var c=g(6895),h=g(4719),l=g(4209),d=g(5712),_=g(322),e=g(5062),p=g(6913),v=g(3356),f=g(5702);const y=["grid1"];function w(n,s){1&n&&(e.TgZ(0,"igx-grid-toolbar")(1,"igx-grid-toolbar-actions"),e._UZ(2,"igx-grid-toolbar-hiding",23)(3,"igx-grid-toolbar-pinning"),e.TgZ(4,"igx-grid-toolbar-exporter",24)(5,"span",25),e._uU(6,"Export to Excel"),e.qZA()()()()),2&n&&(e.xp6(4),e.Q6J("exportCSV",!1))}function P(n,s){if(1&n&&(e.TgZ(0,"igx-select-item",28),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function M(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"igx-select",26),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).cell;return e.KtG(a.editValue=o)}),e.YNc(1,P,2,2,"igx-select-item",27),e.qZA()}if(2&n){const t=s.cell,i=s.$implicit,o=e.oxw();e.Q6J("overlaySettings",o.overlaySettings)("placeholder",i)("ngModel",t.editValue)("igxFocus",!0),e.xp6(1),e.Q6J("ngForOf",o.contracts)}}function J(n,s){if(1&n&&(e.TgZ(0,"igx-select-item",28),e._uU(1),e.qZA()),2&n){const t=s.$implicit;e.Q6J("value",t.Name),e.xp6(1),e.Oqu(t.Name)}}function A(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"igx-select",26),e.NdJ("ngModelChange",function(o){const a=e.CHM(t).cell;return e.KtG(a.editValue=o)}),e.YNc(1,J,2,2,"igx-select-item",27),e.qZA()}if(2&n){const t=s.cell,i=s.$implicit,o=e.oxw();e.Q6J("overlaySettings",o.overlaySettings)("placeholder",i)("ngModel",t.editValue)("igxFocus",!0),e.xp6(1),e.Q6J("ngForOf",o.regions)}}function S(n,s){1&n&&(e.TgZ(0,"igx-icon"),e._uU(1,"trending_up"),e.qZA())}function O(n,s){1&n&&(e.TgZ(0,"igx-icon"),e._uU(1,"trending_down"),e.qZA())}function T(n,s){if(1&n&&(e.TgZ(0,"div",29)(1,"span"),e._uU(2),e.ALo(3,"currency"),e.qZA(),e.YNc(4,S,2,0,"igx-icon",3),e.YNc(5,O,2,0,"igx-icon",3),e.qZA()),2&n){const t=s.cell,i=e.oxw();e.xp6(2),e.Oqu(e.gM2(3,3,t.value,"USD","symbol","1.4-4")),e.xp6(2),e.Q6J("ngIf",i.trends.positive(t.row.data)),e.xp6(1),e.Q6J("ngIf",i.trends.negative(t.row.data))}}function D(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",30)(1,"igx-icon",31),e.NdJ("click",function(){const r=e.CHM(t).cell,a=e.oxw();return e.KtG(a.chartColumnAction(r))}),e._uU(2,"insert_chart_outlined"),e.qZA()()}}let m=(()=>{class n{constructor(t,i,o){this.el=t,this.document=i,this.dataService=o,this.selectedDataChanged=new e.vpe,this.keyDown=new e.vpe,this.chartColumnKeyDown=new e.vpe,this.contracts=p.CH,this.regions=p.Up,this.selectionMode="multiple",this.volume=1e3,this.frequency=500,this.columnFormat={digitsInfo:"1.3-3"},this.columnFormatChangeP={digitsInfo:"3.3-3"},this.showToolbar=!0,this.isLoading=!0,this.overlaySettings={modal:!1},this.negative=r=>r.changeP<0,this.positive=r=>r.changeP>0,this.changeNegative=r=>r.changeP<0&&r.changeP>-1,this.changePositive=r=>r.changeP>0&&r.changeP<1,this.strongPositive=r=>r.changeP>=1,this.strongNegative=r=>r.changeP<=-1,this.trends={changeNeg:this.changeNegative,changePos:this.changePositive,negative:this.negative,positive:this.positive,strongNegative:this.strongNegative,strongPositive:this.strongPositive},this.trendsChange={changeNeg2:this.changeNegative,changePos2:this.changePositive,strongNegative2:this.strongNegative,strongPositive2:this.strongPositive}}ngOnInit(){this.dataService.getData(this.volume),this.overlaySettings.outlet=this.outlet,this.data$=this.dataService.data,this.data$.subscribe(t=>{0!==t.length&&(this.isLoading=!1)}),this.toggleGrouping()}rowSelectionChanged(t){this.grid.clearCellSelection(),this.selectedDataChanged.emit(t.newSelection)}toggleGrouping(){this.grid.groupingExpressions=this.grid.groupingExpressions.length>0?[]:[{dir:l.X_D.Desc,fieldName:"category",ignoreCase:!1,strategy:l.bjf.instance()},{dir:l.X_D.Desc,fieldName:"type",ignoreCase:!1,strategy:l.bjf.instance()},{dir:l.X_D.Desc,fieldName:"contract",ignoreCase:!1,strategy:l.bjf.instance()}]}gridKeydown(t){this.grid.selectedRows.length>0&&!0===t.shiftKey&&!0===t.ctrlKey&&"d"===t.key.toLowerCase()&&(t.preventDefault(),this.keyDown.emit())}customKeydown(t){const i=t.target;"dataCell"===t.targetType&&"Chart"===i.column.field&&"enter"===t.event.key.toLowerCase()&&(this.grid.selectRows([i.row.key],!0),this.chartColumnAction(i))}chartColumnAction(t){this.chartColumnKeyDown.emit(t.row.data)}get gridWrapper(){return this.el.nativeElement.querySelector(".grid__wrapper")}get controlsWrapper(){return this.document.body.querySelector(".controls-wrapper")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(c.K0),e.Y36(v.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-finjs-grid"]],viewQuery:function(t,i){if(1&t&&(e.Gf(y,7),e.Gf(l.KRR,7)),2&t){let o;e.iGM(o=e.CRH())&&(i.grid=o.first),e.iGM(o=e.CRH())&&(i.outlet=o.first)}},outputs:{selectedDataChanged:"selectedDataChanged",keyDown:"keyDown",chartColumnKeyDown:"chartColumnKeyDown"},decls:62,vars:194,consts:[[1,"grid__wrapper"],["width","100%","height","100%","displayDensity","compact","hiddenColumnsText","Hidden","primaryKey","id",3,"igxPreventDocumentScroll","autoGenerate","data","hideGroupedColumns","rowSelection","allowFiltering","moving","filterMode","isLoading","rowSelectionChanging","keydown","gridKeydown"],["grid1",""],[4,"ngIf"],[3,"field","sortable","groupable"],[3,"field","width","groupable","sortable"],[3,"field","width","groupable","sortable","filterable"],[3,"field","width","groupable","sortable","editable"],["igxCellEditor",""],["header","Last Update","dataType","date",3,"field","width","editable"],["dataType","currency",3,"field","width","pipeArgs","sortable"],["dataType","number",3,"field","width","cellClasses","sortable"],["igxCell",""],[3,"field","width","hidden","filterable"],["igxCell","","class","center-text"],["dataType","number",3,"field","width","headerClasses","sortable","cellClasses"],["dataType","percent",3,"field","width","pipeArgs","sortable","cellClasses"],["dataType","number",3,"field","width","pipeArgs"],["dataType","number",3,"field","width","pipeArgs","sortable"],[3,"field","width","filterable"],[3,"field","width","filterable","resizable"],["igxOverlayOutlet",""],["outlet","overlay-outlet"],["title","Indicators"],[3,"exportCSV"],["excelText",""],[3,"overlaySettings","placeholder","ngModel","igxFocus","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"finjs-icons"],["igxButton","icon","tabindex","-1",1,"button-icon"],["family","material",3,"click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"igx-grid",1,2),e.NdJ("rowSelectionChanging",function(r){return i.rowSelectionChanged(r)})("keydown",function(r){return i.gridKeydown(r)})("gridKeydown",function(r){return i.customKeydown(r)}),e.ALo(3,"async"),e.YNc(4,w,7,1,"igx-grid-toolbar",3),e._UZ(5,"igx-column",4)(6,"igx-column",5)(7,"igx-column",6),e.TgZ(8,"igx-column",7),e.YNc(9,M,2,5,"ng-template",8),e.qZA(),e._UZ(10,"igx-column",5)(11,"igx-column",7),e.TgZ(12,"igx-column",7),e.YNc(13,A,2,5,"ng-template",8),e.qZA(),e._UZ(14,"igx-column",9)(15,"igx-column",10),e.TgZ(16,"igx-column",11),e.YNc(17,T,6,8,"ng-template",12),e.qZA(),e.TgZ(18,"igx-column",13),e.YNc(19,D,3,0,"ng-template",14),e.qZA(),e._UZ(20,"igx-column",15)(21,"igx-column",16)(22,"igx-column",10)(23,"igx-column",10)(24,"igx-column",17)(25,"igx-column",18)(26,"igx-column",10)(27,"igx-column",10)(28,"igx-column",10)(29,"igx-column",10)(30,"igx-column",10)(31,"igx-column",19)(32,"igx-column",20)(33,"igx-column",19)(34,"igx-column",19)(35,"igx-column",20)(36,"igx-column",19)(37,"igx-column",19)(38,"igx-column",19)(39,"igx-column",19)(40,"igx-column",19)(41,"igx-column",19)(42,"igx-column",19)(43,"igx-column",19)(44,"igx-column",19)(45,"igx-column",19)(46,"igx-column",19)(47,"igx-column",19)(48,"igx-column",19)(49,"igx-column",19)(50,"igx-column",19)(51,"igx-column",19)(52,"igx-column",20)(53,"igx-column",19)(54,"igx-column",19)(55,"igx-column",20)(56,"igx-column",19)(57,"igx-column",19)(58,"igx-column",19)(59,"igx-column",19),e.qZA()(),e._UZ(60,"div",21,22)),2&t&&(e.xp6(1),e.Q6J("igxPreventDocumentScroll",!0)("autoGenerate",!1)("data",e.lcZ(3,192,i.data$))("hideGroupedColumns",!0)("rowSelection",i.selectionMode)("allowFiltering",!0)("moving",!0)("filterMode","excelStyleFilter")("isLoading",i.isLoading),e.xp6(3),e.Q6J("ngIf",i.showToolbar),e.xp6(1),e.Q6J("field","id")("sortable",!0)("groupable",!0),e.xp6(1),e.Q6J("field","category")("width","120px")("groupable",!0)("sortable",!0),e.xp6(1),e.Q6J("field","type")("width","100px")("groupable",!0)("sortable",!0)("filterable",!1),e.xp6(1),e.Q6J("field","contract")("width","110px")("groupable",!0)("sortable",!0)("editable",!0),e.xp6(2),e.Q6J("field","settlement")("width","100px")("groupable",!0)("sortable",!0),e.xp6(1),e.Q6J("field","country")("width","100px")("groupable",!0)("sortable",!0)("editable",!0),e.xp6(1),e.Q6J("field","region")("width","110px")("groupable",!0)("sortable",!0)("editable",!0),e.xp6(2),e.Q6J("field","lastUpdated")("width","120px")("editable",!0),e.xp6(1),e.Q6J("field","openPrice")("width","120px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","price")("width","110px")("cellClasses",i.trends)("sortable",!0),e.xp6(2),e.Q6J("field","Chart")("width","60px")("hidden",!1)("filterable",!1),e.xp6(2),e.Q6J("field","change")("width","120px")("headerClasses","headerAlignSyle")("sortable",!0)("cellClasses",i.trendsChange),e.xp6(1),e.Q6J("field","changeP")("width","110px")("pipeArgs",i.columnFormatChangeP)("sortable",!0)("cellClasses",i.trendsChange),e.xp6(1),e.Q6J("field","buy")("width","110px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","sell")("width","110px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","spread")("width","110px")("pipeArgs",i.columnFormat),e.xp6(1),e.Q6J("field","volume")("width","110px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","highD")("width","110px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","lowD")("width","110px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","highY")("width","110px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","lowY")("width","110px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","startY")("width","110px")("pipeArgs",i.columnFormat)("sortable",!0),e.xp6(1),e.Q6J("field","indGrou")("width","100px")("filterable",!1),e.xp6(1),e.Q6J("field","indSect")("width","120px")("filterable",!1)("resizable",!0),e.xp6(1),e.Q6J("field","indSubg")("width","100px")("filterable",!1),e.xp6(1),e.Q6J("field","secType")("width","90px")("filterable",!1),e.xp6(1),e.Q6J("field","issuerN")("width","170px")("filterable",!1)("resizable",!0),e.xp6(1),e.Q6J("field","moodys")("width","60px")("filterable",!1),e.xp6(1),e.Q6J("field","fitch")("width","60px")("filterable",!1),e.xp6(1),e.Q6J("field","dbrs")("width","60px")("filterable",!1),e.xp6(1),e.Q6J("field","collatT")("width","90px")("filterable",!1),e.xp6(1),e.Q6J("field","curncy")("width","60px")("filterable",!1),e.xp6(1),e.Q6J("field","security")("width","120px")("filterable",!1),e.xp6(1),e.Q6J("field","sector")("width","80px")("filterable",!1),e.xp6(1),e.Q6J("field","cusip")("width","100px")("filterable",!1),e.xp6(1),e.Q6J("field","ticker")("width","60px")("filterable",!1),e.xp6(1),e.Q6J("field","cpn")("width","80px")("filterable",!1),e.xp6(1),e.Q6J("field","maturity")("width","120px")("filterable",!1),e.xp6(1),e.Q6J("field","krD_3YR")("width","110px")("filterable",!1),e.xp6(1),e.Q6J("field","zV_SPREAD")("width","90px")("filterable",!1),e.xp6(1),e.Q6J("field","kRD_5YR")("width","50px")("filterable",!1),e.xp6(1),e.Q6J("field","kRD_1YR")("width","80px")("filterable",!1),e.xp6(1),e.Q6J("field","indGrou")("width","100px")("filterable",!1),e.xp6(1),e.Q6J("field","indSect")("width","100px")("filterable",!1)("resizable",!0),e.xp6(1),e.Q6J("field","indSubg")("width","100px")("filterable",!1),e.xp6(1),e.Q6J("field","secType")("width","90px")("filterable",!1),e.xp6(1),e.Q6J("field","issuerN")("width","170px")("filterable",!1)("resizable",!0),e.xp6(1),e.Q6J("field","moodys")("width","60px")("filterable",!1),e.xp6(1),e.Q6J("field","fitch")("width","60px")("filterable",!1),e.xp6(1),e.Q6J("field","dbrs")("width","60px")("filterable",!1),e.xp6(1),e.Q6J("field","collatT")("width","90px")("filterable",!1))},dependencies:[f.V,c.sg,c.O5,h.JJ,h.On,l.ZpI,l.EyO,l.rmB,l.zNI,l.pz6,l.JoL,l.bPK,l.MA8,l.on$,l.jTY,l.S4Q,l.$KQ,l.$4Y,l.KRR,l.cTL,l.Ap$,c.Ov,c.H9],styles:[".grid__wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:98%;top:0;left:0;padding:15px;display:flex;flex-direction:column}.grid__wrapper[_ngcontent-%COMP%]   app-finjs-grid[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]     .finjs-icons{display:flex;align-items:center}[_nghost-%COMP%]     .finjs-icons igx-icon{font-size:16px;width:16px;height:16px;margin-left:4px}[_nghost-%COMP%]     .igx-grid__grouparea{max-height:100%;height:auto}[_nghost-%COMP%]     .changePos, [_nghost-%COMP%]     .changeNeg, [_nghost-%COMP%]     .strongPositive, [_nghost-%COMP%]     .strongNegative{color:#fff!important}[_nghost-%COMP%]     .changePos .igx-grid__td-text, [_nghost-%COMP%]     .changeNeg .igx-grid__td-text, [_nghost-%COMP%]     .strongPositive .igx-grid__td-text, [_nghost-%COMP%]     .strongNegative .igx-grid__td-text{padding:2px 5px}[_nghost-%COMP%]     .positive{color:#4eb862!important}[_nghost-%COMP%]     .positive.strongPositive .igx-grid__td-text{color:#4eb862cc!important}[_nghost-%COMP%]     .negative{color:#d31642!important}[_nghost-%COMP%]     .negative.strongNegative .igx-grid__td-text{color:#ff134acc!important}[_nghost-%COMP%]     .changePos .igx-grid__td-text{background:#335e3b}[_nghost-%COMP%]     .changePos1{background:#335e3b;color:#fff}[_nghost-%COMP%]     .changePos2 .igx-grid__td-text{border-right:4px solid #335e3b;padding-right:15px}[_nghost-%COMP%]     .changeNeg .igx-grid__td-text{background:#7a1c32}[_nghost-%COMP%]     .changeNeg1{color:#fff;background:#7a1c32}[_nghost-%COMP%]     .changeNeg2 .igx-grid__td-text{border-right:4px solid #7a1c32;padding-right:9px}[_nghost-%COMP%]     .igx-grid__td--selected.changePos1, [_nghost-%COMP%]     .igx-grid__td--selected.changePos2, [_nghost-%COMP%]     .igx-grid__td--selected.changePos{background-color:#335e3b!important}[_nghost-%COMP%]     .igx-grid__td--selected.changePos1 .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.changePos1 .igx-grid__td-text, [_nghost-%COMP%]     .igx-grid__td--selected.changePos2 .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.changePos2 .igx-grid__td-text, [_nghost-%COMP%]     .igx-grid__td--selected.changePos .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.changePos .igx-grid__td-text{color:#fff}[_nghost-%COMP%]     .igx-grid__td--selected.changeNeg1, [_nghost-%COMP%]     .igx-grid__td--selected.changeNeg2, [_nghost-%COMP%]     .igx-grid__td--selected.changeNeg{background-color:#7a1c32!important}[_nghost-%COMP%]     .igx-grid__td--selected.changeNeg1 .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.changeNeg1 .igx-grid__td-text, [_nghost-%COMP%]     .igx-grid__td--selected.changeNeg2 .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.changeNeg2 .igx-grid__td-text, [_nghost-%COMP%]     .igx-grid__td--selected.changeNeg .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.changeNeg .igx-grid__td-text{color:#fff}[_nghost-%COMP%]     .strongPositive .igx-grid__td-text{background:#459a55}[_nghost-%COMP%]     .strongPositive1{background:#459a55;color:#fff}[_nghost-%COMP%]     .strongPositive2 .igx-grid__td-text{border-right:4px solid #459a55;padding-right:15px}[_nghost-%COMP%]     .strongNegative .igx-grid__td-text{background:#d31642;color:#fff}[_nghost-%COMP%]     .strongNegative1{background:#d31642;color:#fff}[_nghost-%COMP%]     .strongNegative2 .igx-grid__td-text{border-right:4px solid #d31642;padding-right:9px}[_nghost-%COMP%]     .igx-grid__td--selected.strongPositive1, [_nghost-%COMP%]     .igx-grid__td--selected.strongPositive2, [_nghost-%COMP%]     .igx-grid__td--selected.strongPositive{background-color:#459a55!important}[_nghost-%COMP%]     .igx-grid__td--selected.strongPositive1 .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.strongPositive1 .igx-grid__td-text, [_nghost-%COMP%]     .igx-grid__td--selected.strongPositive2 .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.strongPositive2 .igx-grid__td-text, [_nghost-%COMP%]     .igx-grid__td--selected.strongPositive .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.strongPositive .igx-grid__td-text{color:#fff}[_nghost-%COMP%]     .igx-grid__td--selected.strongNegative1, [_nghost-%COMP%]     .igx-grid__td--selected.strongNegative2, [_nghost-%COMP%]     .igx-grid__td--selected.strongNegative{background-color:#d31642!important}[_nghost-%COMP%]     .igx-grid__td--selected.strongNegative1 .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.strongNegative1 .igx-grid__td-text, [_nghost-%COMP%]     .igx-grid__td--selected.strongNegative2 .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.strongNegative2 .igx-grid__td-text, [_nghost-%COMP%]     .igx-grid__td--selected.strongNegative .finjs-icons, [_nghost-%COMP%]     .igx-grid__td--selected.strongNegative .igx-grid__td-text{color:#fff}[_nghost-%COMP%]     .igx-grid__outlet span, [_nghost-%COMP%]     .igx-excel-filter span, [_nghost-%COMP%]     .igx-excel-filter header, [_nghost-%COMP%]     .igx-excel-filter input{font-size:.8125rem}[_nghost-%COMP%]     .igx-button--icon{width:2rem;height:2rem}igx-grid[_ngcontent-%COMP%]{flex:1 0 0%}"]}),n})();var x=g(8723),C=g(8849);const F=["buttonGroup1"],G=["slider1"],Z=["slider2"],Q=["toast"];function N(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq("Feeding ",t.volume," records every ",t.frequency/1e3," sec. ",t.volume," records updated. ")}}function j(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.lnq("Feeding ",t.volume," records every ",t.frequency/1e3," sec. ~",t.volume/5," records updated.")}}let k=(()=>{class n{constructor(){this.switchChanged=new e.vpe,this.volumeChanged=new e.vpe,this.frequencyChanged=new e.vpe,this.playAction=new e.vpe,this.volume=1e3,this.theme=!1,this.frequency=500,this.controls=[{disabled:!1,icon:"update",label:"LIVE ALL PRICES",selected:!1},{disabled:!0,icon:"stop",label:"Stop",selected:!1},{disabled:!1,icon:"insert_chart_outlined",label:"Chart",selected:!1}]}ngOnInit(){this.volumeChanged$=this.volumeSlider.valueChange.pipe((0,C.D)(()=>(0,x.H)(200))),this.volumeChangedSubscription=this.volumeChanged$.subscribe(t=>this.volumeChanged.emit(this.volumeSlider.value)),this.frequencyChanged$=this.intervalSlider.valueChange.pipe((0,C.D)(()=>(0,x.H)(200))),this.frequencyChangedSubscription=this.frequencyChanged$.subscribe(()=>this.frequencyChanged.emit(this.intervalSlider.value)),this.toast.positionSettings.verticalDirection=l.Q4P.Middle}ngOnDestroy(){this.volumeChangedSubscription.unsubscribe(),this.frequencyChangedSubscription.unsubscribe()}onButtonSelected(t){switch(t.index){case 0:this.disableOtherButtons(t.index,!0),this.playAction.emit({action:"playAll"});break;case 1:this.disableOtherButtons(t.index,!1),this.playAction.emit({action:"stop"});break;case 2:this.playAction.emit({action:"chart"})}}handleHidden(){this.playButtons.deselectButton(2)}onChange(t,i){this.switchChanged.emit({action:t,value:i.checked})}disableOtherButtons(t,i){this.volumeSlider.disabled=i,this.intervalSlider.disabled=i,this.selectedButton=t,this.playButtons.buttons.forEach((o,r)=>{1===r?o.disabled=!i:(this.playButtons.buttons[0].disabled=i,this.playButtons.buttons[2].disabled=i)})}get buttonSelected(){return this.selectedButton||0===this.selectedButton?this.selectedButton:-1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-finjs-controllers"]],viewQuery:function(t,i){if(1&t&&(e.Gf(F,7),e.Gf(G,7),e.Gf(Z,7),e.Gf(Q,7)),2&t){let o;e.iGM(o=e.CRH())&&(i.playButtons=o.first),e.iGM(o=e.CRH())&&(i.volumeSlider=o.first),e.iGM(o=e.CRH())&&(i.intervalSlider=o.first),e.iGM(o=e.CRH())&&(i.toast=o.first)}},outputs:{switchChanged:"switchChanged",volumeChanged:"volumeChanged",frequencyChanged:"frequencyChanged",playAction:"playAction"},decls:30,vars:22,consts:[[1,"controls-wrapper"],[1,"controls-holder"],[1,"switches"],[1,"control-item"],[3,"checked","ngModel","ngModelChange","change"],["color","blue","cssClass","finjs-sample-switch",3,"checked","change"],[1,"finjs-slider","control-item"],["for","slider"],["id","slider",3,"minValue","maxValue","ngModel","step","thumbLabelVisibilityDuration","continuous","ngModelChange"],["slider1",""],["id","slider",3,"minValue","maxValue","step","ngModel","thumbLabelVisibilityDuration","continuous","ngModelChange"],["slider2",""],[1,"control-item","finjs-play-controls"],[1,"finjssample-btn-group",3,"multiSelection","values","selected"],["buttonGroup1",""],[1,"sample-toolbar"],[4,"ngIf"],[3,"onClosed"],["toast",""]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"igx-switch",4),e.NdJ("ngModelChange",function(r){return i.theme=r})("change",function(r){return i.onChange("theme",r)}),e._uU(5,"Dark"),e.qZA()(),e.TgZ(6,"div",3)(7,"igx-switch",5),e.NdJ("change",function(r){return i.onChange("grouped",r)}),e._uU(8," Grouped"),e.qZA()(),e.TgZ(9,"div",3)(10,"igx-switch",5),e.NdJ("change",function(r){return i.onChange("toolbar",r)}),e._uU(11,"Toolbar"),e.qZA()(),e.TgZ(12,"div",6)(13,"label",7),e._uU(14),e.qZA(),e.TgZ(15,"igx-slider",8,9),e.NdJ("ngModelChange",function(r){return i.volume=r}),e.qZA()(),e.TgZ(17,"div",6)(18,"label",7),e._uU(19),e.qZA(),e.TgZ(20,"igx-slider",10,11),e.NdJ("ngModelChange",function(r){return i.frequency=r}),e.qZA()()(),e.TgZ(22,"div",12)(23,"igx-buttongroup",13,14),e.NdJ("selected",function(r){return i.onButtonSelected(r)}),e.qZA()()(),e.TgZ(25,"div",15),e.YNc(26,N,2,3,"span",16),e.YNc(27,j,2,3,"span",16),e.qZA(),e.TgZ(28,"igx-toast",17,18),e.NdJ("onClosed",function(){return i.handleHidden()}),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("checked",!1)("ngModel",i.theme),e.xp6(3),e.Q6J("checked",!0),e.xp6(3),e.Q6J("checked",!0),e.xp6(4),e.hij("Records: ",i.volume,""),e.xp6(1),e.Q6J("minValue",0)("maxValue",1e4)("ngModel",i.volume)("step",100)("thumbLabelVisibilityDuration",250)("continuous",!0),e.xp6(4),e.hij("Frequency: ",i.frequency," ms"),e.xp6(1),e.Q6J("minValue",100)("maxValue",3e3)("step",10)("ngModel",i.frequency)("thumbLabelVisibilityDuration",250)("continuous",!0),e.xp6(3),e.Q6J("multiSelection",!1)("values",i.controls),e.xp6(3),e.Q6J("ngIf",1===i.buttonSelected),e.xp6(1),e.Q6J("ngIf",0===i.buttonSelected))},dependencies:[c.O5,h.JJ,h.On,l.hBO,l.PWJ,l.igB,l.JfS],styles:["[_nghost-%COMP%]     .fin-dark-theme .finjs-slider, [_nghost-%COMP%]     .fin-dark-theme .sample-toolbar{color:#ffffffde}[_nghost-%COMP%]     .controls-holder{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;width:100%;padding-bottom:15px}[_nghost-%COMP%]     .switches{display:flex;justify-content:space-between;align-items:center;flex:1 0 0%;padding-right:20px;font-size:.9rem}[_nghost-%COMP%]     .control-item:not(:last-child){padding-right:20px}[_nghost-%COMP%]     .igx-slider, [_nghost-%COMP%]     .igx-slider--disabled{height:24px}[_nghost-%COMP%]     .finjs-slider{width:40%;min-width:145px}[_nghost-%COMP%]     .finjs-play-controls{width:45%;min-width:620px;margin-top:10px}[_nghost-%COMP%]     .sample-toolbar{height:20px;font-size:.8rem;line-height:20px;margin-top:11px}[_nghost-%COMP%]     .igx-button--icon{width:2rem;height:2rem}.controls-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;position:relative;padding:0 15px}"]}),n})();const q=["finGrid"],R=["controllers"],I=["dialog"],U=["chart1"];function L(n,s){if(1&n&&(e.TgZ(0,"div",13)(1,"div",14)(2,"div")(3,"b"),e._uU(4,"Category:"),e.qZA(),e._uU(5),e.qZA()(),e.TgZ(6,"div",14)(7,"div")(8,"b"),e._uU(9,"Country:"),e.qZA(),e._uU(10),e.qZA()(),e.TgZ(11,"div",14)(12,"div")(13,"b"),e._uU(14,"Price:"),e.qZA(),e._uU(15),e.qZA()()()),2&n){const t=s.item;e.xp6(5),e.hij(" ",t.category,""),e.xp6(5),e.hij(" ",t.country,""),e.xp6(5),e.hij(" $",t.price,"")}}let B=(()=>{class n{constructor(){this.darkTheme=!1,this.properties=["price","country"],this.chartData=[],this.volume=1e3,this.frequency=500}onSwitchChanged(t){switch(t.action){case"toolbar":this.finGrid.showToolbar=t.value;break;case"grouped":this.finGrid.toggleGrouping();break;case"theme":this.darkTheme=t.value}}onVolumeChanged(t){this.volume=t,this.finGrid.dataService.hasRemoteConnection?this.finGrid.dataService.broadcastParams(this.controller.frequency,this.volume,!1):this.finGrid.dataService.getData(t)}onFrequencyChanged(t){this.frequency=t}onPlayAction(t){switch(t.action){case"playAll":if(this.finGrid.dataService.hasRemoteConnection)this.finGrid.dataService.broadcastParams(this.frequency,this.volume,!0);else{const i=this.finGrid.grid.filteredSortedData??this.finGrid.grid.data;this._timer=setInterval(()=>this.finGrid.dataService.updateAllPriceValues(i),this.controller.frequency)}break;case"stop":this.finGrid.dataService.hasRemoteConnection?this.finGrid.dataService.stopLiveData():this.stopFeed();break;case"chart":0!==this.finGrid.grid.selectedRows.length?(this.setChartData(this.finGrid.grid.selectedRows),this.dialog.open()):this.controller.toast.open("Please select some rows first!")}}setChartData(t){this.chartData=[],t.forEach(i=>{this.chartData.push(i),this.chart.notifyInsertItem(this.chartData,this.chartData.length-1,i)}),this.setLabelIntervalAndAngle(),this.setChartConfig("Countries","Prices (USD)","Data Chart with prices by Category and Country")}onCloseHandler(){this.finGrid.grid.navigation.activeNode&&(-1===this.finGrid.grid.navigation.activeNode.row?this.finGrid.grid.theadRow.nativeElement.focus():this.finGrid.grid.tbody.nativeElement.focus(),this.controller.playButtons.deselectButton(2))}closeDialog(){this.controller.playButtons.deselectButton(2),this.dialog.close()}setChartConfig(t,i,o){this.setLabelIntervalAndAngle(),this.chart.xAxisTitle=t,this.chart.yAxisTitle=i,this.chart.chartTitle=o}setLabelIntervalAndAngle(){const t=this.chartData.length;t<10?(this.chart.xAxisLabelAngle=0,this.chart.xAxisInterval=1):t<15?(this.chart.xAxisLabelAngle=30,this.chart.xAxisInterval=1):t<40?(this.chart.xAxisLabelAngle=90,this.chart.xAxisInterval=1):t<100?(this.chart.xAxisLabelAngle=90,this.chart.xAxisInterval=3):t<200?(this.chart.xAxisLabelAngle=90,this.chart.xAxisInterval=5):t<400?(this.chart.xAxisLabelAngle=90,this.chart.xAxisInterval=7):t>400&&(this.chart.xAxisLabelAngle=90,this.chart.xAxisInterval=10),this.chart.yAxisAbbreviateLargeNumbers=!0}openSingleRowChart(t){this.chartData=[],setTimeout(()=>{this.chartData=this.finGrid.grid.data.filter(i=>i.region===t.region&&i.category===t.category),this.chart.notifyInsertItem(this.chartData,this.chartData.length-1,{}),this.setLabelIntervalAndAngle(),this.chart.chartTitle="Data Chart with prices of "+this.chartData[0].category+" in "+this.chartData[0].region+" Region",this.dialog.open()},200)}stopFeed(){this._timer&&clearInterval(this._timer)}ngOnDestroy(){this.stopFeed()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-finjs-main"]],viewQuery:function(t,i){if(1&t&&(e.Gf(q,7),e.Gf(R,7),e.Gf(I,7),e.Gf(U,7)),2&t){let o;e.iGM(o=e.CRH())&&(i.finGrid=o.first),e.iGM(o=e.CRH())&&(i.controller=o.first),e.iGM(o=e.CRH())&&(i.dialog=o.first),e.iGM(o=e.CRH())&&(i.chart=o.first)}},hostVars:2,hostBindings:function(t,i){2&t&&e.ekj("dark-theme",i.darkTheme)},decls:18,vars:7,consts:[[1,"main__wrapper","igx-scrollbar"],[3,"switchChanged","volumeChanged","frequencyChanged","playAction"],["controllers",""],[3,"selectedDataChanged","keyDown","chartColumnKeyDown"],["finGrid",""],[3,"closeOnOutsideSelect","closing"],["dialog",""],[1,"chart-container",3,"keydown"],["width","100%","chartType","column","xAxisInterval","20","xAxisLabelAngle","90","height","400px",3,"dataSource","includedProperties","tooltipTemplate"],["chart1",""],["igxDialogActions",""],["igxButton","",3,"igxFocus","click"],["seriesTooltip",""],[1,"tooltipTable"],[1,"tooltipRow"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"app-finjs-controllers",1,2),e.NdJ("switchChanged",function(a){return i.onSwitchChanged(a)})("volumeChanged",function(a){return i.onVolumeChanged(a)})("frequencyChanged",function(a){return i.onFrequencyChanged(a)})("playAction",function(a){return i.onPlayAction(a)}),e.qZA(),e.TgZ(3,"app-finjs-grid",3,4),e.NdJ("selectedDataChanged",function(a){return i.setChartData(a)})("keyDown",function(){e.CHM(o);const a=e.MAs(6);return e.KtG(a.open())})("chartColumnKeyDown",function(a){return i.openSingleRowChart(a)}),e.qZA()(),e.TgZ(5,"igx-dialog",5,6),e.NdJ("closing",function(){return i.onCloseHandler()}),e.TgZ(7,"div",7),e.NdJ("keydown",function(){return i.closeDialog()}),e.TgZ(8,"igx-dialog-title"),e._uU(9," Chart "),e.qZA(),e.TgZ(10,"div"),e._UZ(11,"igx-category-chart",8,9),e.qZA(),e.TgZ(13,"div",10)(14,"button",11),e.NdJ("click",function(){return i.closeDialog()}),e._uU(15,"\u041e\u041a"),e.qZA()()()(),e.YNc(16,L,16,3,"ng-template",null,12,e.W1O)}if(2&t){const o=e.MAs(6),r=e.MAs(17);e.ekj("fin-dark-theme",i.darkTheme),e.xp6(5),e.Q6J("closeOnOutsideSelect",!0),e.xp6(6),e.Q6J("dataSource",i.chartData)("includedProperties",i.properties)("tooltipTemplate",r),e.xp6(3),e.Q6J("igxFocus",o.isOpen)}},dependencies:[l.ZpI,d.DxX,l.$4Y,l.XIG,l.Eh8,l.xMm,m,k],styles:[".main__wrapper[_ngcontent-%COMP%]{height:100%;min-height:100%;display:flex;flex-direction:column}.main__wrapper[_ngcontent-%COMP%]   app-finjs-grid[_ngcontent-%COMP%]{height:100%}.chart-container[_ngcontent-%COMP%]{width:50vw}[_nghost-%COMP%]     .fin-dark-theme .finjs-slider, [_nghost-%COMP%]     .fin-dark-theme .sample-toolbar{color:#ffffffde}"]}),n})();var b=g(3448);const K=[{component:B,data:b.$["empty-path"],path:""},{component:m,data:b.$["grid-finjs-partial"],path:"grid-finjs-partial"}];let H=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.Bz.forChild(K),_.Bz]}),n})();var Y=g(591);let V=(()=>{class n{constructor(){this._records=new Y.X([]),this.records=this._records.asObservable()}getData(t=10){this._records.next(p.F7.generateData(t))}getHierarchicalData(t=10){this._records.next(p.F7.generateHierarchicalData(t))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[V],imports:[f.U,c.ez,h.u5,l.QoJ,d.rZY,d.pwr,d.wx7,d.hfF,d.KC4,d.TnH,d.qF6,d._oq,d.Mr1,d.zhm,d.IQh,l.jNM,l.QfT,H,l.LtP,l.JvM,l.oiK]}),n})()}}]);